{% extends "store/base.html" %}
{% load crispy_forms_tags %}

{% block title %}Finalizar Pedido{% endblock %}

{% block content %}
<div class="checkout" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; padding: 2rem;">
  <div>
    <h2>Finalize seu Pedido</h2>
    <form method="post" class="form">
      {% csrf_token %}
      {{ form|crispy }}
      <button type="submit" class="btn btn-primary mt-3">Finalizar Pedido</button>
    </form>
  </div>

  <div style="background: #f8f9fa; padding: 1rem; border-radius: 10px;">
    <h3>Resumo do Carrinho</h3>
    <ul style="list-style: none; padding-left: 0;">
      {% for item in cart %}
      <li style="margin-bottom: 10px;">
        <strong>{{ item.product.name }}</strong><br>
        Quantidade: {{ item.quantity }}<br>
        Subtotal: R$ {{ item.total_price }}
      </li>
      {% endfor %}
    </ul>
    <hr>
    <h4>Total: R$ {{ cart.get_total_price }}</h4>
  </div>
</div>
{% endblock %}
